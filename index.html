<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Калькулятор Надійності та Збитків</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      background-color: #f4f4f4;
    }
    h1, h2 {
      color: #333;
    }
    label {
      display: block;
      margin-top: 10px;
    }
    input {
      width: 100%;
      padding: 5px;
      margin-bottom: 10px;
    }
    button {
      padding: 10px;
      background-color: #007BFF;
      color: white;
      border: none;
      cursor: pointer;
    }
    button:hover {
      background-color: #0056b3;
    }
    .output {
      margin-top: 20px;
      background: #fff;
      padding: 10px;
      border-radius: 5px;
    }
  </style>
</head>
<body>
  <h1>Калькулятор Надійності та Збитків</h1>
  <h2>Приклад 3.1: Надійність систем електропередачі</h2>
  <button onclick="calculateReliability()">Розрахувати надійність</button>
  <div class="output" id="reliabilityOutput"></div>

  <h2>Приклад 3.2: Збитки від перерв електропостачання</h2>
  <label>Питома потужність P_т (кВт):</label>
  <input type="number" id="P_t" value="5120" />
  <label>Час моделювання T_м (год):</label>
  <input type="number" id="T_m" value="6451" />
  <button onclick="calculateLosses()">Розрахувати збитки</button>
  <div class="output" id="lossOutput"></div>

  <script>
    function calculateReliability() {
      const w_os = 0.295;
      const t_v_os = (0.3 * 0.01 + 0.07 * 0.10 + 0.015 * 1.00 + 0.02 * 1.5 + 0.018 * 2) / w_os;
      const k_a_os = (w_os * t_v_os) / 8760;
      const k_pl_os = (1.43 - 0.52) / 8760;

      const w_ds = 2 * k_a_os + 58.9 * k_pl_os;
      const w_ds_prime = w_ds + 0.02;

      document.getElementById('reliabilityOutput').innerHTML = `
        Частота відмов одноланкової системи: ${w_os.toFixed(3)}<br>
        Середня тривалість відновлення: ${t_v_os.toFixed(1)} год.<br>
        Коефіцієнт аварійного простою: ${k_a_os.toExponential(2)}<br>
        Коефіцієнт планового простою: ${k_pl_os.toExponential(2)}<br>
        Частота відмов дволанкової системи: ${w_ds.toExponential(2)}<br>
        З урахуванням секц. вимикача: ${w_ds_prime.toFixed(4)} рік⁻¹
      `;
    }

    function calculateLosses() {
      const P_t = parseFloat(document.getElementById('P_t').value);
      const T_m = parseFloat(document.getElementById('T_m').value);
      const w = 0.01;
      const t_b = 45 / 1000;
      const k_p = 4 / 1000;

      const Z_per_a = 23.6;
      const Z_per_p = 17.6;

      const M_W_a = w * t_b * P_t * T_m;
      const M_W_p = k_p * P_t * T_m;
      const M_Z = Z_per_a * M_W_a + Z_per_p * M_W_p;

      document.getElementById('lossOutput').innerHTML = `
        Аварійне недовідпущення електроенергії: ${M_W_a.toFixed(0)} кВт·год<br>
        Планове недовідпущення електроенергії: ${M_W_p.toFixed(0)} кВт·год<br>
        Очікувані збитки: ${M_Z.toLocaleString('uk-UA')} грн
      `;
    }
  </script>
</body>
</html>
