<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <title>Калькулятор Надійності та Збитків</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; background: #f4f4f4; max-width: 900px; margin: auto; }
    input { width: 100%; margin-bottom: 10px; padding: 5px; }
    button { padding: 10px 20px; background: #007BFF; color: #fff; border: none; cursor: pointer; }
    .result { margin-top: 20px; padding: 10px; background: #e3f2fd; border-left: 5px solid #2196f3; }
    .section { margin-bottom: 30px; }
    label { font-weight: bold; }
  </style>
</head>
<body>

  <h1>Калькулятор надійності та збитків ГПП</h1>

  <div class="section">
    <h2>1. Вхідні дані для Прикладу 3.1 (Надійність)</h2>

    <label>Кількість приєднань (n):</label>
    <input type="number" id="n" value="6">

    <label>Частоти відмов (ω):</label>
    <input type="number" id="w1" value="0.01" placeholder="Вимикач 110 кВ">
    <input type="number" id="w2" value="0.07" placeholder="ПЛ 110 кВ">
    <input type="number" id="w3" value="0.015" placeholder="Трансформатор">
    <input type="number" id="w4" value="0.02" placeholder="Вивід 10 кВ">
    <input type="number" id="w5" value="0.03" placeholder="Одне приєднання 10 кВ">

    <label>Тривалість відновлення (tв, год):</label>
    <input type="number" id="t1" value="0.3" placeholder="Вимикач 110 кВ">
    <input type="number" id="t2" value="0.1" placeholder="ПЛ 110 кВ">
    <input type="number" id="t3" value="1.0" placeholder="Трансформатор">
    <input type="number" id="t4" value="1.5" placeholder="Вивід 10 кВ">
    <input type="number" id="t5" value="2" placeholder="Одне приєднання 10 кВ">

    <label>Макс. плановий простій (kпл.мах):</label>
    <input type="number" id="kplMax" value="1.43">

    <label>Макс. аварійний простій (kа.мах):</label>
    <input type="number" id="kaMax" value="0.52">

    <button onclick="calculateReliabilityUser()">Розрахувати надійність</button>
    <div class="result" id="reliabilityUserResult"></div>
  </div>

  <script>
    function calculateReliabilityUser() {
      const n = +document.getElementById("n").value;

      // Частоти відмов
      const ω1 = +document.getElementById("w1").value;
      const ω2 = +document.getElementById("w2").value;
      const ω3 = +document.getElementById("w3").value;
      const ω4 = +document.getElementById("w4").value;
      const ω5 = +document.getElementById("w5").value;

      // Тривалості відновлення
      const t1 = +document.getElementById("t1").value;
      const t2 = +document.getElementById("t2").value;
      const t3 = +document.getElementById("t3").value;
      const t4 = +document.getElementById("t4").value;
      const t5 = +document.getElementById("t5").value;

      const ωос = ω1 + ω2 + ω3 + ω4 + ω5 * n;
      const tвос = (ω1*t1 + ω2*t2 + ω3*t3 + ω4*t4 + ω5*t5*n) / ωос;
      const каос = (ωос * tвос / 8760).toExponential(3);

      const kплМах = +document.getElementById("kplMax").value;
      const kаМах = +document.getElementById("kaMax").value;
      const кплос = ((kплМах - kаМах) / 8760).toExponential(3);

      const ωдс = 2 * parseFloat(каос) + 58.9 * parseFloat(кплос);
      const ωдсFull = ωдс + 0.02;

      const output = `
        <strong>Одноланкова система:</strong><br>
        Частота відмов: ${ωос.toFixed(3)} рік⁻¹<br>
        Середня тривалість відновлення: ${tвос.toFixed(2)} год<br>
        Коефіцієнт аварійного простою: ${каос}<br>
        Коефіцієнт планового простою: ${кплос}<br><br>

        <strong>Дволанкова система:</strong><br>
        Частота відмов (з секц. вимикачем): ${ωдсFull.toFixed(4)} рік⁻¹<br>
        <strong>Висновок:</strong> Дволанкова система значно надійніша.
      `;
      document.getElementById("reliabilityUserResult").innerHTML = output;
    }
  </script>
</body>
</html>
